%% Mermaid flowchart for User Flows (MVP)
%% Save as docs/diagrams/user-flows.mmd

flowchart LR
  subgraph NewUser[Новый пользователь]
    A1(Главная) --> A2[Регистрация]
    A2 --> A3{Валидация}
    A3 -->|OK| A4[Подтверждение e-mail]
    A4 --> A5[Каталог курсов]
    A5 --> A6[Карточка курса]
    A6 --> A7[Запись на курс]
    A7 --> A8[Личный кабинет]
  end

  subgraph Student[Студент]
    B1(Вход) --> B2[Личный кабинет]
    B2 --> B3[Продолжить курс]
    B3 --> B4[Урок / Тест]
    B4 --> B5[Сохранение прогресса]
    B2 --> C1["/ctf (страница CTF)"]
    C1 --> C2{Участвовать?}
    C2 -->|Да| C3[Участие / Отправка флагов]
    C3 --> C4[Результаты / Рейтинг]
  end

  subgraph Admin[Администратор]
    D1(Вход admin) --> D2[Админ-панель]
    D2 --> D3[Управление курсами]
    D2 --> D4[Управление пользователями]
    D2 --> D5[Управление CTF]
  end

  %% Cross-links
  A8 -.-> B2
  B5 -.-> A8
  D3 -.-> A6
  D5 -.-> C1
